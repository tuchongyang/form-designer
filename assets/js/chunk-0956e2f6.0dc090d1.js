(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0956e2f6"],{"591b":function(e,t,n){"use strict";n.r(t);var a=n("7a23");Object(a["K"])("data-v-296cf7bc");var l={class:"wrapper"},c={class:"title"},u={class:"desc"},o={class:"content"},r={class:"form"},d={class:"title"},i={class:"tit"},b={key:0,style:{color:"red"}},j={class:"txt"},O={class:"det"},m={class:"component"},v={key:0,class:"btn-area"},s=Object(a["n"])("提 交");function f(e,t,n,f,p,y){var h,V,g,k,S=Object(a["P"])("FormItem"),H=Object(a["P"])("loading"),I=Object(a["P"])("a-button");return Object(a["H"])(),Object(a["l"])("div",{class:"panel-center",style:Object(a["y"])(null===(h=e.detail)||void 0===h?void 0:h.content.skin.containerStyle)},[Object(a["m"])("div",l,[Object(a["m"])("div",{class:"head",style:Object(a["y"])(null===(V=e.detail)||void 0===V?void 0:V.content.skin.headerStyle),onClick:t[0]||(t[0]=Object(a["cb"])((function(){return e.setHeader&&e.setHeader.apply(e,arguments)}),["stop"]))},[Object(a["m"])("div",c,Object(a["S"])(null===(g=e.detail)||void 0===g?void 0:g.title),1),Object(a["m"])("div",u,Object(a["S"])(null===(k=e.detail)||void 0===k?void 0:k.desc),1)],4),Object(a["m"])("div",o,[Object(a["m"])("div",r,[(Object(a["H"])(!0),Object(a["l"])(a["b"],null,Object(a["N"])(e.modules,(function(t,n){return Object(a["H"])(),Object(a["l"])("div",{class:"form-item",key:n},[Object(a["m"])("div",d,[Object(a["m"])("div",i,[Object(a["n"])(Object(a["S"])(t.label),1),t.required?(Object(a["H"])(),Object(a["l"])("span",b,"*")):Object(a["k"])("",!0)]),Object(a["m"])("div",j,Object(a["S"])(t.desc),1)]),Object(a["m"])("div",O,[Object(a["m"])("div",m,[Object(a["o"])(S,{data:t,modelValue:e.form[t.id],"onUpdate:modelValue":function(n){return e.form[t.id]=n}},null,8,["data","modelValue","onUpdate:modelValue"])])])])})),128)),Object(a["o"])(H,{msg:"正在努力加载中，请稍后",loading:e.loading},null,8,["loading"]),e.loading?Object(a["k"])("",!0):(Object(a["H"])(),Object(a["l"])("div",v,[Object(a["o"])(I,{type:"primary",size:"large",onClick:e.save},{default:Object(a["ab"])((function(){return[s]})),_:1},8,["onClick"])]))])])])],4)}Object(a["I"])();var p=n("5530"),y=(n("d3b7"),n("5502")),h=n("79f6"),V=n("6c02"),g=n("f64c"),k=n("6091"),S=Object(a["p"])({components:{FormItem:k["a"]},props:{mode:{type:String,default:""}},setup:function(e){var t=Object(V["c"])(),n=(Object(y["b"])(),Object(a["M"])(null)),l=Object(a["h"])((function(){var e,t;return(null===(e=n.value)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.modules)||[]})),c=Object(a["M"])({}),u=Object(a["M"])(!1),o=function(){var e=t.query.id||0;u.value=!0,h["a"].form.detail(+e).then((function(e){var t;try{t=JSON.parse(e.result.publishContent||"")}catch(u){t=null}for(var a in null===t&&(t={skin:{containerStyle:{},headerStyle:{}},modules:[]}),n.value=Object(p["a"])(Object(p["a"])({},e.result),{},{content:t}),t.modules){var l=t.modules[a];c.value[l.id]=l.defaultValue||""}console.log("form",c.value)})).finally((function(){u.value=!1}))};o();var r=function(){var t,a;"preview"!=e.mode?(console.log("form",c.value),null!==(t=n.value)&&void 0!==t&&t.id&&h["a"].form.answer.save(null===(a=n.value)||void 0===a?void 0:a.id,c.value).then((function(){g["a"].success("提交成功")}))):g["a"].info("当前处于预览模式，无法提交")};return{detail:n,modules:l,form:c,save:r,loading:u}}});n("d070");S.render=f,S.__scopeId="data-v-296cf7bc";t["default"]=S},"59ec":function(e,t,n){},6091:function(e,t,n){"use strict";var a=n("7a23");function l(e,t,n,l,c,u){return Object(a["H"])(),Object(a["j"])(Object(a["Q"])(e.componentMap[e.data.type]),{data:e.data,modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.model=t})},null,8,["data","modelValue"])}function c(e,t,n,l,c,u){var o=Object(a["P"])("a-input");return Object(a["H"])(),Object(a["j"])(o,{value:e.model,"onUpdate:value":t[0]||(t[0]=function(t){return e.model=t}),placeholder:e.data.placeholder},null,8,["value","placeholder"])}var u={data:{type:Object,default:function(){return{}}},modelValue:{type:String,default:""}},o=Object(a["p"])({name:"ItemInput",props:u,setup:function(e,t){var n=Object(a["M"])("");return Object(a["Y"])(n,(function(e){t.emit("update:modelValue",e)})),Object(a["Y"])((function(){return e.modelValue}),(function(t){n.value=e.modelValue})),{model:n}}});o.render=c;var r=o;function d(e,t,n,l,c,u){var o=Object(a["P"])("a-radio"),r=Object(a["P"])("a-radio-group");return Object(a["H"])(),Object(a["j"])(r,{value:e.model,"onUpdate:value":t[0]||(t[0]=function(t){return e.model=t})},{default:Object(a["ab"])((function(){return[(Object(a["H"])(!0),Object(a["l"])(a["b"],null,Object(a["N"])(e.data.options,(function(t,n){return Object(a["H"])(),Object(a["j"])(o,{style:Object(a["y"])(e.radioStyle),value:t.value,key:n},{default:Object(a["ab"])((function(){return[Object(a["n"])(Object(a["S"])(t.label),1)]})),_:2},1032,["style","value"])})),128))]})),_:1},8,["value"])}var i={data:{type:Object,default:function(){return{}}},modelValue:{type:String,default:""}},b=Object(a["p"])({name:"ItemInput",props:i,setup:function(e,t){var n=Object(a["M"])(1),l=Object(a["L"])({display:"block",height:"30px",lineHeight:"30px"}),c=Object(a["h"])((function(){return e.data.defaultValue})),u=Object(a["M"])("");return Object(a["Y"])(u,(function(e){t.emit("update:modelValue",e)})),Object(a["Y"])((function(){return e.modelValue}),(function(t){u.value=e.modelValue})),{model:u,value:n,radioStyle:l,defaultValue:c}}});b.render=d;var j=b;function O(e,t,n,l,c,u){var o=Object(a["P"])("a-checkbox"),r=Object(a["P"])("a-checkbox-group");return Object(a["H"])(),Object(a["j"])(r,{value:e.model,"onUpdate:value":t[0]||(t[0]=function(t){return e.model=t})},{default:Object(a["ab"])((function(){return[(Object(a["H"])(!0),Object(a["l"])(a["b"],null,Object(a["N"])(e.data.options,(function(t,n){return Object(a["H"])(),Object(a["j"])(o,{style:Object(a["y"])(e.radioStyle),value:t.value,key:n},{default:Object(a["ab"])((function(){return[Object(a["n"])(Object(a["S"])(t.label),1)]})),_:2},1032,["style","value"])})),128))]})),_:1},8,["value"])}var m={data:{type:Object,default:function(){return{}}},modelValue:{type:Array,default:[]}},v=Object(a["p"])({name:"ItemInput",props:m,setup:function(e,t){var n=Object(a["M"])([]),l=Object(a["L"])({display:"block",height:"30px",lineHeight:"30px",marginLeft:0}),c=Object(a["M"])(e.modelValue);return Object(a["Y"])(c,(function(e){t.emit("update:modelValue",e)})),Object(a["Y"])((function(){return e.modelValue}),(function(t){c.value=e.modelValue})),{value:n,radioStyle:l,model:c}}});v.render=O;var s=v;function f(e,t,n,l,c,u){var o=Object(a["P"])("a-select");return Object(a["H"])(),Object(a["j"])(o,{value:e.value,"onUpdate:value":t[0]||(t[0]=function(t){return e.value=t}),"label-in-value":"",style:{width:"100%"},options:e.data.options,onChange:e.handleChange},null,8,["value","options","onChange"])}var p={data:{type:Object,default:function(){return{}}},modelValue:{type:String,default:""}},y=Object(a["p"])({name:"ItemSelect",props:p,setup:function(e,t){var n=function(e){e.label=e.value},l=Object(a["M"])("");return Object(a["Y"])(l,(function(e){t.emit("update:modelValue",e)})),Object(a["Y"])((function(){return e.modelValue}),(function(t){l.value=e.modelValue})),{value:Object(a["M"])({value:"lucy"}),handleChange:n}}});y.render=f;var h=y,V={data:{type:Object,default:function(){return{}}},modelValue:{type:String,default:""}},g=Object(a["p"])({name:"FormItem",components:{ItemInput:r,ItemRadio:j,ItemCheckbox:s,ItemSelect:h},props:V,setup:function(e,t){var n=Object(a["M"])({input:"item-input",radio:"item-radio",checkbox:"item-checkbox",select:"item-select"}),l=Object(a["M"])(e.modelValue);return Object(a["Y"])(l,(function(e){t.emit("update:modelValue",e)})),Object(a["Y"])((function(){return e.modelValue}),(function(t){l.value=e.modelValue})),{componentMap:n,model:l}}});g.render=l;t["a"]=g},d070:function(e,t,n){"use strict";n("59ec")}}]);